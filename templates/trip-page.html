<div id="content-view">
    <a href="{{BASE_PATH}}" class="back-button">‚Üê Back to Home</a>
    <div id="content-area">
        <h1>{{TRIP_TITLE}}</h1>
        {{TRIP_METADATA}}
        {{TRIP_CONTENT}}
    </div>
</div>

<script>
    // Minimal SPA enhancement for navigation
    // This allows the page to work as static HTML, but enhances with SPA features if JS is enabled

    let config = null;
    const tripContentCache = {};

    // Pre-load the config for SPA navigation
    const APP_BASE = '{{APP_BASE}}';

    async function loadConfig() {
        try {
            const response = await fetch(APP_BASE + 'config.built.json');
            config = await response.json();

            // Cache this trip's content since we already have it
            tripContentCache['{{TRIP_ID}}'] = {{TRIP_CONTENT_JSON}};
        } catch (error) {
            console.log('Config not loaded, static mode only');
        }
    }

    // Intercept navigation links for SPA behavior
    document.addEventListener('DOMContentLoaded', () => {
        loadConfig();

        // Intercept internal links
        document.addEventListener('click', (e) => {
            const link = e.target.closest('a');
            if (!link) return;

            const href = link.getAttribute('href');
            if (!href || href.startsWith('http') || href.startsWith('#')) return;

            // Check if this is an internal link
            if (href.startsWith(APP_BASE) || href.startsWith('/')) {
                // Let it navigate normally for now - full SPA enhancement can be added later
                // This ensures static pages work perfectly
            }
        });
    });
</script>
