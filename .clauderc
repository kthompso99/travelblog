# Claude Code Project Configuration

## ğŸ”’ CRITICAL: Git Workflow Rules

**NEVER commit or push without explicit user approval**

- âœ… Fix bugs, add tests, run builds freely
- âœ… Run `git status`, `git diff`, `git log` freely
- âŒ NEVER run `git commit` without user saying "commit" or "ready to commit"
- âŒ NEVER run `git push` without user saying "push" or "ready to push"
- âœ… After completing work, ALWAYS ask: "Ready to commit and push these changes?"
- âœ… Wait for explicit approval before staging, committing, or pushing

**Why this matters:** Git operations are permanent and affect the repository history. Kevin must approve all commits and pushes to maintain control over what goes into version control.

---

## ğŸš¨ CRITICAL: Configuration Management Rules

**BEFORE making ANY changes to file paths or directory structure:**

1. âœ… **READ** `docs/ARCHITECTURE.md` first
2. âœ… **NEVER** hardcode paths in scripts
3. âœ… **ALWAYS** use `lib/config-paths.js` for path constants
4. âœ… **EDIT** only `lib/config-paths.js` when changing structure
5. âœ… **TEST** all scripts after path changes:
   - `npm run validate`
   - `npm run build`
   - `npm run build:smart`

## ğŸ“ Single Source of Truth

**ALL file paths must be imported from `lib/config-paths.js`**

```javascript
// âœ… CORRECT
const CONFIG = require('../lib/config-paths');
const tripPath = CONFIG.getTripConfigPath('greece');

// âŒ WRONG - DO NOT DO THIS
const tripPath = 'content/trips/greece/trip.json';
```

## ğŸ”§ Key Files

- **`lib/config-paths.js`** - Path configuration (SINGLE SOURCE OF TRUTH)
- **`docs/ARCHITECTURE.md`** - Architecture guidelines (READ FIRST!)
- **`scripts/`** - All build/utility scripts import from config-paths.js

## ğŸ“ When Making Changes

1. Structure changes â†’ Edit `lib/config-paths.js` ONLY
2. New scripts â†’ Import from `lib/config-paths.js`
3. Always follow checklist in `docs/ARCHITECTURE.md`

## âš ï¸ Common Mistakes to Avoid

- âŒ Hardcoding `'content/trips'` in scripts
- âŒ Hardcoding `'trip.json'` or `'main.md'` filenames
- âŒ Creating duplicate path constants
- âŒ Not testing after path changes

## ğŸ“š Required Reading

- `docs/ARCHITECTURE.md` - Configuration management
- `lib/config-paths.js` - Path definitions
- `README.md` - Project overview
