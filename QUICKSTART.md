# Quick Start Guide

## Initial Setup (One Time)

```bash
# 1. Install dependencies
npm install
# or: make install

# 2. Validate your config
npm run validate

# 3. Build the site (geocode + convert markdown)
npm run build
# or: make build

# 4. Start local server
npm run serve
# or: make serve
```

Open http://localhost:8000

## Adding a New Destination

### Interactive Way (Recommended)
```bash
npm run add
# or: make add
```
This will prompt you for all the information and create template files!

### Manual Way
1. Edit `config.json`
2. Create markdown file in `content/`
3. Run `npm run build`

## Daily Workflow

```bash
# Option A: Auto-rebuild on changes (recommended)
npm run watch
# or: make watch

# Option B: Manual rebuild
npm run build
# or: make build

# Validate before building
npm run validate
# or: make validate
```

## All Available Commands

```bash
npm run validate    # Check config for errors
npm run build       # Build the site
npm run watch       # Auto-rebuild on changes
npm run serve       # Start local server
npm run add         # Add new destination interactively

# Or use make commands:
make help           # Show all commands
make install        # Install dependencies
make validate       # Validate config
make build          # Build site
make watch          # Auto-rebuild
make serve          # Start server
make add            # Add destination
make clean          # Remove generated files
make deploy         # Prepare for deployment
```

## What Gets Built?

The build script (`node build.js`) creates `config.built.json` which contains:

- ✅ **Geocoded coordinates** - from place names like "Eiffel Tower"
- ✅ **Pre-rendered HTML** - from your markdown files
- ✅ **Complete configuration** - everything in one fast-loading file

## File Structure

```
travel-blog/
├── index.html              # Main site (loads config.built.json)
├── config.json            # Source config (edit this)
├── config.built.json      # Generated by build script (deploy this)
├── build.js               # Build script
├── package.json           # Node dependencies
├── content/               # Markdown source files
│   ├── paris.md
│   └── tokyo.md
└── images/                # Optional thumbnails
    ├── paris.jpg
    └── tokyo.jpg
```

## Why Build?

### Without Building (Real-time):
- ❌ Slow: Geocodes on every page load
- ❌ Slow: Converts markdown on every click
- ❌ Requires external API calls
- ❌ Network dependent

### With Building (Pre-processed):
- ✅ Fast: Everything pre-computed
- ✅ Fast: Instant page loads
- ✅ No external dependencies after build
- ✅ Works offline

## Deploy to Production

```bash
# 1. Final build
npm run build

# 2. Upload these files only:
#    - index.html
#    - config.built.json
#    - images/ (if you have them)

# 3. Do NOT upload:
#    - config.json (source file)
#    - content/ (already in config.built.json)
#    - build.js, package.json, node_modules/
```

## Common Commands

```bash
# Build once
npm run build

# Auto-rebuild on file changes
npm run watch

# View build output
cat config.built.json

# Check if build worked
node -e "console.log(require('./config.built.json').destinations[0])"
```

## Fallback Behavior

If `config.built.json` is missing, the site automatically falls back to:
- Real-time geocoding (slower)
- Real-time markdown conversion (slower)
- Useful for development, but not recommended for production

Check the browser console - you'll see:
```
⚠️ Using real-time mode. Run "node build.js" for better performance.
```

## Tips

1. **Always build before deploying** - `npm run build`
2. **Use watch mode while developing** - `npm run watch`
3. **Check the console** - Build script shows what it's doing
4. **Manual coordinates override geocoding** - Use them if geocoding fails
5. **Test locally** - Always test with a web server, not file://

---

**Questions?** Check the full README.md for detailed documentation.